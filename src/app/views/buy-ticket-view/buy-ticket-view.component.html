<section class="wrapper">
  <form [formGroup]="form" (ngSubmit)="handleSubmit()" class="form">
    <ng-container *ngIf="form.controls['firstname'] as control">
      <div class="form__itemContainer narrow">
        <label class="form__label">Imię: </label>
        <input
          formControlName="firstname"
          type="text"
          class="form__input form__input-narrow"
          placeholder="Jan"
        />
        <ng-container *ngIf="control.touched && form.controls['firstname'].errors as error">
          <p *ngIf="error['required']" class="form__errorParagraph">*obowiązkowe</p>
          <p *ngIf="error['minlength']" class="form__errorParagraph">wymagana liczba znaków 3-99</p>
        </ng-container>
      </div>
    </ng-container>

    <ng-container *ngIf="form.controls['lastname'] as control">
      <div class="form__itemContainer narrow">
        <label class="form__label">Nazwisko:</label>
        <input formControlName="lastname" type="text" class="form__input" placeholder="Kowalski" />
        <ng-container *ngIf="control.touched && form.controls['lastname'].errors as error">
          <p *ngIf="error['required']" class="form__errorParagraph">*obowiązkowe</p>
          <p *ngIf="error['minlength']" class="form__errorParagraph">wymagana liczba znaków 3-99</p>
        </ng-container>
      </div>
    </ng-container>

    <ng-container *ngIf="form.controls['phone'] as control">
      <div class="form__itemContainer">
        <label class="form__label">Numer telefonu (opcjonalne):</label>
        <input formControlName="phone" type="text" class="form__input" placeholder="333444555" />
        <ng-container *ngIf="control.touched && form.controls['phone'].errors as error">
          <p *ngIf="error['minlength']" class="form__errorParagraph">liczba wymaganych znaków: 9</p>
          <p *ngIf="error['maxlength']" class="form__errorParagraph">liczba wymaganych znaków: 9</p>
          <p
            *ngIf="error['pattern'] && !error['minlength'] && !error['maxlength']"
            class="form__errorParagraph"
          >
            podaj poprawny numer telefonu
          </p>
        </ng-container>
      </div>
    </ng-container>

    <ng-container *ngIf="form.controls['email'] as control">
      <div class="form__itemContainer">
        <label class="form__label">Adres e-mail:</label>
        <input
          formControlName="email"
          type="text"
          class="form__input"
          placeholder="jan.kowalski@xyz.com"
        />
        <ng-container *ngIf="control.touched && form.controls['email'].errors as error">
          <p *ngIf="error['required']" class="form__errorParagraph">*obowiązkowe</p>
        </ng-container>
      </div>
    </ng-container>

    <ng-container *ngIf="form.controls['emailRepeat'] as control">
      <div class="form__itemContainer">
        <label class="form__label">Powtórz e-mail:</label>
        <input
          formControlName="emailRepeat"
          type="text"
          class="form__input"
          placeholder="jan.kowalski@xyz.com"
        />
        <ng-container *ngIf="control.touched && form.controls['emailRepeat'].errors as error">
          <p *ngIf="error['required']" class="form__errorParagraph">*obowiązkowe</p>
        </ng-container>
      </div>
    </ng-container>

    <div *ngIf="message" class="form__itemContainer">
      <p class="form__messageParagraph">Błąd! {{ message }}</p>
    </div>

    <div class="form__itemContainer">
      <button type="submit" class="form__submitButton">Zamawiam</button>
    </div>
  </form>
</section>
ds
